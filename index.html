<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskFlow - Modern Task Manager</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='grad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:%232ec4b6'/><stop offset='100%' style='stop-color:%23ff6b9d'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23grad)'/><text x='50' y='70' font-size='60' text-anchor='middle' fill='white' font-family='Arial, sans-serif' font-weight='bold'>‚úì</text></svg>"
        type="image/svg+xml">
</head>

<body>

    <div class="app">

        <input type="checkbox" id="sidebar-toggle" />

        <label for="sidebar-toggle" class="sidebar-overlay"></label>

        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">‚úì</div>
                <h2>TaskFlow</h2>
            </div>

            <nav class="nav">
                <div class="nav-item active">
                    <span class="nav-icon">üìã</span>
                    <span>All Tasks</span>
                    <span class="nav-count">8</span>
                </div>
                <div class="nav-item" onclick="Important()">
                    <span class="nav-icon">üìå</span>
                    <span>Important</span>
                    <span class="nav-count">3</span>
                </div>
                <div class="nav-item" onclick="completed()">
                    <span class="nav-icon">‚úÖ</span>
                    <span>Completed</span>
                    <span class="nav-count">12</span>
                </div>
                <div class="nav-item" onclick="today()">
                    <span class="nav-icon">üìÖ</span>
                    <span>Today</span>
                    <span class="nav-count">5</span>
                </div>
                <div class="nav-item" onclick="upcoming()">
                    <span class="nav-icon">üìÜ</span>
                    <span>Upcoming</span>
                </div>
            </nav>

            <div class="projects">
                <h3>Projects</h3>
                <div class="project-item" onclick="workProject()">
                    <div class="project-color" style="background: #2ec4b6;"></div>
                    <span>Work Projects</span>
                </div>
                <div class="project-item" onclick="personal()">
                    <div class="project-color" style="background: #ff6b9d;"></div>
                    <span>Personal</span>
                </div>
                <div class="project-item" onclick="learning()">
                    <div class="project-color" style="background: #f59e0b;"></div>
                    <span>Learning</span>
                </div>
            </div>
        </aside>



        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <svg class="theme-icon sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5" />
                <line x1="12" y1="1" x2="12" y2="3" />
                <line x1="12" y1="21" x2="12" y2="23" />
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                <line x1="1" y1="12" x2="3" y2="12" />
                <line x1="21" y1="12" x2="23" y2="12" />
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
            </svg>
            <svg class="theme-icon moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
            </svg>
        </button>


        <main class="main">


            <div class="mobile-header">
                <h2>TaskFlow</h2>
                <label for="sidebar-toggle" class="menu-toggle">‚ò∞</label>
            </div>

            <div class="main-header">
                <h1>My Tasks</h1>
                <p>Stay organized and accomplish your goals</p>
            </div>


            <div class="stats">
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Total Tasks</span>
                        <div class="stat-icon">üìã</div>
                    </div>
                    <div class="stat-value">24</div>
                    <div class="stat-subtext">Across all projects</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">In Progress</span>
                        <div class="stat-icon">‚è≥</div>
                    </div>
                    <div class="stat-value">8</div>
                    <div class="stat-subtext">Active tasks</div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="stat-label">Completed</span>
                        <div class="stat-icon">‚úì</div>
                    </div>
                    <div class="stat-value">16</div>
                    <div class="stat-subtext">67% completion rate</div>
                </div>
            </div>

            <div class="progress-section">
                <div class="progress-header">
                    <h3>Today's Progress</h3>
                    <span class="progress-text">5 of 8 tasks completed</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 62.5%;"></div>
                </div>
            </div>

            <div class="add-task-container">
                <form class="add-task-form" id="form">
                    <input type="text" class="add-task-input" placeholder="What needs to be done today?" id="task"
                        required />
                    <button type="submit" class="add-btn">+ Add Task</button>
                </form>
            </div>

            <div class="filters">
                <button class="filter-btn active">All Tasks</button>
                <button class="filter-btn">Active</button>
                <button class="filter-btn">Completed</button>
                <button class="filter-btn">High Priority</button>
            </div>


            <div class="tasks-container">
                <div class="tasks-header">
                    <h3>Active Tasks</h3>
                    <span class="tasks-count">8 tasks</span>
                </div>

                <div class="tasks-list" id="list">

                    <div class="task">
                        <div class="checkbox-wrapper">
                            <div class="checkbox" id="com"></div>
                        </div>
                        <div class="task-content">
                            <div class="task-title">Add authentication system</div>
                            <div class="task-meta">
                                <span class="task-tag">Work Projects</span>
                                <span>Due today</span>
                            </div>
                        </div>
                        <div class="task-priority high"></div>
                    </div>

                    <div class="task">
                        <div class="checkbox-wrapper">
                            <div class="checkbox"></div>
                        </div>
                        <div class="task-content">
                            <div class="task-title">Review pull requests</div>
                            <div class="task-meta">
                                <span class="task-tag">Work Projects</span>
                                <span>Due tomorrow</span>
                            </div>
                        </div>
                        <div class="task-priority medium"></div>
                    </div>

                    <div class="task completed">
                        <div class="checkbox-wrapper">
                            <div class="checkbox"></div>
                        </div>
                        <div class="task-content">
                            <div class="task-title">Update documentation</div>
                            <div class="task-meta">
                                <span class="task-tag">Work Projects</span>
                                <span>Completed</span>
                            </div>
                        </div>
                        <div class="task-priority low"></div>
                    </div>

                    <div class="task">
                        <div class="checkbox-wrapper">
                            <div class="checkbox"></div>
                        </div>
                        <div class="task-content">
                            <div class="task-title">Grocery shopping</div>
                            <div class="task-meta">
                                <span class="task-tag">Personal</span>
                                <span>Due this week</span>
                            </div>
                        </div>
                        <div class="task-priority low"></div>
                    </div>

                    <div class="task">
                        <div class="checkbox-wrapper">
                            <div class="checkbox"></div>
                        </div>
                        <div class="task-content">
                            <div class="task-title">Learn React Hooks</div>
                            <div class="task-meta">
                                <span class="task-tag">Learning</span>
                                <span>No deadline</span>
                            </div>
                        </div>
                        <div class="task-priority medium"></div>
                    </div>

                </div>

                <div class="tasks-footer">
                    <span class="footer-text">3 tasks remaining</span>
                    <span class="clear-completed" onclick="clearCompleted()">Clear completed</span>
                </div>
            </div>

        </main>

    </div>
    <script src="connect.js"> </script>
    <script>

        function getTasks() {
            return JSON.parse(localStorage.getItem("tasks")) || [];
        }

        function saveTask(tasks) {
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }


        const form = document.getElementById("form");
        const task = document.getElementById("task");
        const tasksList = document.getElementById("list");
        form.addEventListener("submit", (e) => {
            e.preventDefault();

            const taskName = getTasks();
            taskName.push({
                id: Date.now(),
                task: task.value,
                status: false

            });
            saveTask(taskName);
            form.reset();
            window.location.reload();

        })


        let data = JSON.parse(localStorage.getItem("tasks"));
        // console.log(data);

        data.forEach((e) => {
            tasksList.innerHTML += `
        <div class="task ${e.status ? "completed" : ""}" data-id="${e.id}">
            <div class="checkbox-wrapper">
                <div class="checkbox"></div>
            </div>
            <div class="task-content">
                <div class="task-title">${e.task}</div>
                <div class="task-meta">
                    <span class="task-tag">Work Projects</span>
                    <span>${e.status ? "Completed" : "Due today"}</span>
                </div>
            </div>
            <div class="task-priority high"></div>
        </div>
    `;
        });



        tasksList.addEventListener("click", (e) => {
            if (!e.target.classList.contains("checkbox")) return;

            const taskDiv = e.target.closest(".task");
            const taskId = Number(taskDiv.dataset.id);

            taskDiv.classList.toggle("completed");

            let tasks = getTasks();
            const taskObj = tasks.find(t => t.id === taskId);

            if (taskObj) {
                taskObj.status = taskDiv.classList.contains("completed");
                saveTask(tasks);
            }
        });


        function clearCompleted() {

            let data2 = JSON.parse(localStorage.getItem('tasks'));
             let completed=data2.filter(e=>e.status==true);
             console.log(completed);
             
             
        }


    </script>
</body>

</html>